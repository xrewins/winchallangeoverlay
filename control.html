<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Win Challenge Control</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="control">

<div class="panel">
  <h1>ðŸŽ® Win Challenge</h1>

  <input id="gameName" placeholder="Game Name">
  <input id="gameNeeded" type="number" placeholder="Wins benÃ¶tigt">
  <button onclick="addGame()">âž• HinzufÃ¼gen</button>

  <div id="list"></div>
</div>

<script>
function getData() {
  return JSON.parse(localStorage.getItem("winChallenge")) || [];
}

function saveData(data) {
  localStorage.setItem("winChallenge", JSON.stringify(data));
}

function load() {
  const data = getData();
  const list = document.getElementById("list");
  list.innerHTML = "";

  data.forEach((g, i) => {
    list.innerHTML += `
      <div class="control-card ${g.current >= g.needed ? 'done' : ''}">
        <div class="title">${g.name}</div>
        <div class="wins">${g.current} / ${g.needed}</div>
        <div class="buttons">
          <button onclick="change(${i},1)">+1</button>
          <button onclick="change(${i},-1)">-1</button>
          <button onclick="removeGame(${i})">âœ–</button>
        </div>
      </div>
    `;
  });
}

function addGame() {
  const name = document.getElementById("gameName").value.trim();
  const needed = Number(document.getElementById("gameNeeded").value);

  if (!name || needed <= 0) return alert("Bitte Game & Wins angeben");

  const data = getData();
  data.push({ name, needed, current: 0 });
  saveData(data);

  gameName.value = "";
  gameNeeded.value = "";
  load();
}

function change(i, v) {
  const data = getData();
  data[i].current = Math.max(0, data[i].current + v);
  saveData(data);
  load();
}

function removeGame(i) {
  const data = getData();
  data.splice(i, 1);
  saveData(data);
  load();
}

load();
</script>
</body>
</html>
